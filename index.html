<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>TTCal - A calibration routine developed for the OVRO LWA.</title>
      
      
        <meta name="description" content="A calibration routine developed for the OVRO LWA.">
      
      
      
        <meta name="author" content="Michael Eastwood">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="TTCal">
    <meta property="og:image" content="None/./ttcal.png">
    <meta name="apple-mobile-web-app-title" content="TTCal">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="./ttcal.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="./None">
    <link rel="icon" type="image/x-icon" href="./None">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('./assets/fonts/icon.eot?52m981');
      	src: url('./assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('./assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('./assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('./assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="./assets/stylesheets/application-54f87043f3.css">
    
      <link rel="stylesheet" href="./assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="./mathjaxstyle.css">
    
    <script src="./assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-deep-purple palette-accent-deep-purple">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        TTCal
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/mweastwood" title="@mweastwood on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/mweastwood/TTCal.jl" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="./ttcal.png">
        </div>
      
      <div class="name">
        <strong>
          TTCal
          <span class="version">
            0.1.0
          </span>
        </strong>
        
          <br>
          mweastwood/TTCal.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/mweastwood/TTCal.jl/archive/0.1.0.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/mweastwood/TTCal.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="current" title="Home" href=".">
      Home
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Overview" href="#overview">
                Overview
              </a>
            </li>
          
            <li class="anchor">
              <a title="Getting Started" href="#getting-started">
                Getting Started
              </a>
            </li>
          
            <li class="anchor">
              <a title="Bugs, Errors, and Questions (oh my!)" href="#bugs-errors-and-questions-oh-my">
                Bugs, Errors, and Questions (oh my!)
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Cookbook" href="cookbook/">
      Cookbook
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Calibration" href="calibration/">
      Calibration
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Sky Models" href="sourcemodel/">
      Sky Models
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Beam Models" href="beammodel/">
      Beam Models
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="The Ionosphere" href="ionosphere/">
      The Ionosphere
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Developer Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Building this Website" href="website/">
      Building this Website
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/mweastwood" target="_blank" title="@mweastwood on GitHub">
                  @mweastwood on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="ttcal">TTCal<a class="headerlink" href="#ttcal" title="Permanent link">¶</a></h1>
<p>TTCal is a calibration routine developed for the OVRO LWA.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>The standard procedure for phase calibrating a radio interferometer
usually involves slewing a small number of large dishes to stare at
a known point source. A point source at the phase center of the
interferometer has zero phase on all baselines, so phase calibration
essentially amounts to zeroing the phase on all baselines.</p>
<p>Low frequency telescopes (&lt;300 MHz) tend to occupy an entirely different
region of phase space. That is they are usually composed of numerous
cheap dipole antennas with very broad beams (<a href="http://www.lofar.org/">LOFAR</a>,
<a href="http://www.mwatelescope.org/">MWA</a>). Furthermore, the low frequency sky
is corrupted by propagation through the ionosphere. Until the field matures,
the demand for a new and effective calibration technique
is best met by a simple, adaptable, and relatively fast software package.
This is why I wrote TTCal.</p>
<table>
<thead>
<tr>
<th>Figure 1. An OVRO LWA snapshot image made using data calibrated exclusively with TTCal.</th>
</tr>
</thead>
<tbody>
<tr>
<td><img alt="Example image from the OVRO LWA" src="./img/ovro-lwa-example-image.png" /></td>
</tr>
</tbody>
</table>
<h2 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">¶</a></h2>
<p>TTCal requires version 0.4 of the <a href="http://julialang.org/">Julia</a> programming
language. Julia is a dynamic language designed for scientific computing with
a just-in-time compiler based on <a href="http://llvm.org/">LLVM</a>. The syntax
should be familiar to users of <a href="http://www.mathworks.com/products/matlab/">Matlab</a>
and <a href="https://www.python.org/">Python</a>, but Python users should be aware
that the first element of an array is accessed with <code>x[1]</code>.</p>
<p>Once Julia is installed, the REPL (read-eval-print loop) can be started by
typing <code>julia</code> from the command line. Try running the following examples:</p>
<div class="code"><pre><span></span><span class="n">julia</span><span class="o">&gt;</span> <span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
<span class="mi">2</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">:</span><span class="mi">3</span>
           <span class="n">println</span><span class="p">(</span><span class="n">rand</span><span class="p">())</span>
       <span class="k">end</span>
<span class="mf">0.8165122957881887</span>
<span class="mf">0.8315752097289137</span>
<span class="mf">0.6558156424738537</span>
</pre></div>


<p>TTCal depends on the <a href="https://github.com/mweastwood/CasaCore.jl">CasaCore.jl</a>
package, which is a Julia wrapper of the <a href="http://casacore.github.io/casacore/">casacore</a>
library. It is used to interface with measurement sets and perform
coordinate conversions.</p>
<p>To install TTCal run:</p>
<div class="code"><pre><span></span><span class="n">julia</span><span class="o">&gt;</span> <span class="n">Pkg</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

<span class="c"># Get the latest version of CasaCore.jl and build the wrapper</span>
<span class="n">julia</span><span class="o">&gt;</span> <span class="n">Pkg</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="s">&quot;CasaCore&quot;</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span> <span class="n">Pkg</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="s">&quot;CasaCore&quot;</span><span class="p">)</span>

<span class="c"># Get the latest version of TTCal</span>
<span class="n">julia</span><span class="o">&gt;</span> <span class="n">Pkg</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="s">&quot;https://github.com/mweastwood/TTCal.jl.git&quot;</span><span class="p">)</span>
<span class="n">julia</span><span class="o">&gt;</span> <span class="n">Pkg</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="s">&quot;TTCal&quot;</span><span class="p">)</span>
</pre></div>


<p>If all the tests pass, you are ready to begin using TTCal.</p>
<p>While the most powerful interface to TTCal involves writing small
Julia scripts, a limited command line interface is available.
Simply add the <code>ttcal.jl</code> file to your <code>PATH</code> environment variable.
You can see the list of available commands by running:</p>
<div class="code"><pre><span></span>$ ttcal.jl --help
usage: ttcal.jl <span class="o">[</span>-h<span class="o">]</span> <span class="o">{</span>gaincal<span class="p">|</span>polcal<span class="p">|</span>peel<span class="p">|</span>applycal<span class="o">}</span>

A calibration routine developed <span class="k">for</span> the OVRO LWA.

commands:
  gaincal     Solve <span class="k">for</span> a gain calibration.
  polcal      Solve <span class="k">for</span> a polarization calibration.
  peel        Peel sources from the dataset.
  shave       Shave sources from the dataset <span class="o">(</span>wideband peeling<span class="o">)</span>.
  applycal    Apply a calibration.

optional arguments:
  -h, --help  show this <span class="nb">help</span> message and <span class="nb">exit</span>
</pre></div>


<p>Note that every time Julia is restarted there is overhead
associated with reloading and recompiling the code. While
Julia version 0.4 introduced code caching to help mitigate this,
running TTCal will always be faster from a Julia script
than from the command line.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TTCal expects data to be provided as a measurement set. Furthermore each
measurement set must contain only a single spectral window and a single time integration.</p>
</div>
<h2 id="bugs-errors-and-questions-oh-my">Bugs, Errors, and Questions (oh my!)<a class="headerlink" href="#bugs-errors-and-questions-oh-my" title="Permanent link">¶</a></h2>
<p>If you encounter any problems or errors, please
<a href="https://github.com/mweastwood/TTCal.jl/issues/new">open an issue</a>
on Github. Known problems are listed as
<a href="https://github.com/mweastwood/TTCal.jl/issues">open issues</a>.</p>
<p>If you have any questions after reading through this documentation
let Michael know by
<a href="https://github.com/mweastwood/TTCal.jl/issues/new">opening an issue</a>
on Github.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
    </div>
    <div class="next">
      
        <a href="cookbook/" title="Cookbook">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Cookbook
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '.';
      var repo_id  = 'mweastwood/TTCal.jl';
    </script>
    <script src="./assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
      <script src="./mathjaxhelper.js"></script>
    
    
  </body>
</html>