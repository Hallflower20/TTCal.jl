<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Calibration - TTCal</title>
      
      
      
      
        <meta name="author" content="Michael Eastwood">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="TTCal">
    <meta property="og:image" content="None/../ttcal.png">
    <meta name="apple-mobile-web-app-title" content="TTCal">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../ttcal.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../None">
    <link rel="icon" type="image/x-icon" href="../None">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-54f87043f3.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../mathjaxstyle.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-deep-purple palette-accent-deep-purple">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Calibration
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/mweastwood" title="@mweastwood on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/mweastwood/TTCal.jl" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../ttcal.png">
        </div>
      
      <div class="name">
        <strong>
          TTCal
          <span class="version">
            0.1.0
          </span>
        </strong>
        
          <br>
          mweastwood/TTCal.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/mweastwood/TTCal.jl/archive/0.1.0.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/mweastwood/TTCal.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Cookbook" href="../cookbook/">
      Cookbook
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Calibration" href="./">
      Calibration
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Iterative Least Squares" href="#iterative-least-squares">
                Iterative Least Squares
              </a>
            </li>
          
            <li class="anchor">
              <a title="Gain Calibration" href="#gain-calibration">
                Gain Calibration
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Sky Models" href="../sourcemodel/">
      Sky Models
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Beam Models" href="../beammodel/">
      Beam Models
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="The Ionosphere" href="../ionosphere/">
      The Ionosphere
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Developer Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Building this Website" href="../website/">
      Building this Website
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/mweastwood" target="_blank" title="@mweastwood on GitHub">
                  @mweastwood on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="calibration">Calibration<a class="headerlink" href="#calibration" title="Permanent link">¶</a></h1>
<p>Calibration is necessary to remove instrumental effects on the measured visibilities
prior to imaging. The process of calibration can generally be divided into two categories:</p>
<ol>
<li>Direction independent calibration</li>
<li>Direction dependent calibration</li>
</ol>
<p>Direction independent calibration attempts to remove instrumental effects arising from
the electronics between the antenna and the correlator. For example amplifiers and cables
can add to the amplitude and phase of the voltage respectively.
Whereas direction dependent calibration attempts to remove instrumental effects arising from
the antenna beam pattern and propagation through the ionosphere.</p>
<p>Both types of calibration can be viewed as trying to solve for best Jones matrices $J$
in the following equation</p>
<p>
<script type="math/tex; mode=display">
    V_{ij}^\text{measured} = J_i V_{ij}^\text{model} J_j^* + \text{noise},
</script>
</p>
<p>where $V_{ij}$ is a 2x2 matrix containing the <code>xx</code>, <code>xy</code>, <code>yx</code>, and <code>yy</code> correlations
between antenna $i$ and antenna $j$, and $J_i$ is the Jones matrix associated with antenna $i$.
In direction independent calibration the Jones matrices are a function of frequency only.
In direction dependent calibration the Jones matrices are a function of frequency and direction.</p>
<h2 id="iterative-least-squares">Iterative Least Squares<a class="headerlink" href="#iterative-least-squares" title="Permanent link">¶</a></h2>
<p>TTCal uses the method of iterative least squares independently described by
<a href="http://adsabs.harvard.edu/abs/2008ISTSP...2..707M">Mitchell et al. 2008</a> and
<a href="http://adsabs.harvard.edu/abs/2014A%26A...571A..97S">Salvini &amp; Wijnholds 2014</a>
to solve for the Jones matrices.
Given a set of model visibilities we seek to minimize</p>
<p>
<script type="math/tex; mode=display">
    \sum_{ij} \left\| V_{ij}^\text{measured} - J_i V_{ij}^\text{model} J_j^* \right\|^2
</script>
</p>
<p>If $J_i$ is assumed to be constant, the least squares solution for $J_j^*$ is</p>
<p>
<script type="math/tex; mode=display">
    J_j^* = \frac{\sum_i \left(J_i V_{ij}^\text{model}\right)^* V_{ij}^\text{measured}}
                 {\sum_i \left\|J_i V_{ij}^\text{model}\right\|^2}.
</script>
</p>
<p>This can be computed rapidly but iterating will tend to oscillate around the
solution to the original optimization problem. These oscillations need to be damped
for rapid convergence. TTCal damps these oscillations by using Runge-Kutta steps.</p>
<h2 id="gain-calibration">Gain Calibration<a class="headerlink" href="#gain-calibration" title="Permanent link">¶</a></h2>
<p>With gain calibration TTCal will solve for a set of diagonal Jones matrices
(one per antenna and frequency channel). The diagonal terms of the Jones matrix
represent the complex gain (amplitude and phase) of each antenna.</p>
<p>See the <a href="../cookbook/">cookbook</a> for an example gain calibration on an LWA dataset.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../cookbook/" title="Cookbook">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Cookbook
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../sourcemodel/" title="Sky Models">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Sky Models
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'mweastwood/TTCal.jl';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
      <script src="../mathjaxhelper.js"></script>
    
    
  </body>
</html>